import { defined } from 'cesium';
import { HtmlPrimitive } from '../primitives';
export class HtmlCollection {
    constructor() {
        this._collection = [];
    }
    get length() {
        return this._collection.length;
    }
    get(index) {
        return this._collection[index];
    }
    add(options) {
        const html = new HtmlPrimitive(options, this);
        this._collection.push(html);
        return html;
    }
    remove(html) {
        const index = this._collection.indexOf(html);
        if (index === (-1)) {
            return false;
        }
        this._collection[index].remove();
        this._collection.splice(index, 1);
        return true;
    }
    update() {
        for (let i = 0, len = this._collection.length; i < len; i++) {
            this._collection[i].update();
        }
    }
    removeAll() {
        while (this._collection.length > 0) {
            const html = this._collection.pop();
            html.remove();
        }
    }
    contains(html) {
        return defined(html) && html.collection === this;
    }
    destroy() {
        this.removeAll();
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaHRtbC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3NyYy9saWIvY2VzaXVtLWV4dGVuZGVyL2NvbGxlY3Rpb25zL2h0bWwudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLFFBQVEsQ0FBQztBQUNqQyxPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBRTlDLE1BQU0sT0FBTyxjQUFjO0lBQTNCO1FBQ1UsZ0JBQVcsR0FBb0IsRUFBRSxDQUFDO0lBZ0Q1QyxDQUFDO0lBOUNDLElBQUksTUFBTTtRQUNSLE9BQU8sSUFBSSxDQUFDLFdBQVcsQ0FBQyxNQUFNLENBQUM7SUFDakMsQ0FBQztJQUVELEdBQUcsQ0FBQyxLQUFhO1FBQ2YsT0FBTyxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ2pDLENBQUM7SUFFRCxHQUFHLENBQUMsT0FBWTtRQUNkLE1BQU0sSUFBSSxHQUFHLElBQUksYUFBYSxDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsQ0FBQztRQUM5QyxJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUU1QixPQUFPLElBQUksQ0FBQztJQUNkLENBQUM7SUFFRCxNQUFNLENBQUMsSUFBbUI7UUFDeEIsTUFBTSxLQUFLLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDN0MsSUFBSSxLQUFLLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFO1lBQ2xCLE9BQU8sS0FBSyxDQUFDO1NBQ2Q7UUFFRCxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssQ0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDO1FBQ2pDLElBQUksQ0FBQyxXQUFXLENBQUMsTUFBTSxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUMsQ0FBQztRQUNsQyxPQUFPLElBQUksQ0FBQztJQUNkLENBQUM7SUFFRCxNQUFNO1FBQ0osS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsR0FBRyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsTUFBTSxFQUFFLENBQUMsR0FBRyxHQUFHLEVBQUUsQ0FBQyxFQUFFLEVBQUU7WUFDM0QsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQztTQUM5QjtJQUNILENBQUM7SUFFRCxTQUFTO1FBQ1AsT0FBTyxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUU7WUFDbEMsTUFBTSxJQUFJLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxHQUFHLEVBQUUsQ0FBQztZQUNwQyxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUM7U0FDZjtJQUNILENBQUM7SUFFRCxRQUFRLENBQUMsSUFBbUI7UUFDMUIsT0FBTyxPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksSUFBSSxDQUFDLFVBQVUsS0FBSyxJQUFJLENBQUM7SUFDbkQsQ0FBQztJQUVELE9BQU87UUFDTCxJQUFJLENBQUMsU0FBUyxFQUFFLENBQUM7SUFDbkIsQ0FBQztDQUNGIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZGVmaW5lZCB9IGZyb20gJ2Nlc2l1bSc7XHJcbmltcG9ydCB7IEh0bWxQcmltaXRpdmUgfSBmcm9tICcuLi9wcmltaXRpdmVzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBIdG1sQ29sbGVjdGlvbiB7XHJcbiAgcHJpdmF0ZSBfY29sbGVjdGlvbjogSHRtbFByaW1pdGl2ZVtdID0gW107XHJcblxyXG4gIGdldCBsZW5ndGgoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fY29sbGVjdGlvbi5sZW5ndGg7XHJcbiAgfVxyXG5cclxuICBnZXQoaW5kZXg6IG51bWJlcikge1xyXG4gICAgcmV0dXJuIHRoaXMuX2NvbGxlY3Rpb25baW5kZXhdO1xyXG4gIH1cclxuXHJcbiAgYWRkKG9wdGlvbnM6IGFueSk6IEh0bWxQcmltaXRpdmUge1xyXG4gICAgY29uc3QgaHRtbCA9IG5ldyBIdG1sUHJpbWl0aXZlKG9wdGlvbnMsIHRoaXMpO1xyXG4gICAgdGhpcy5fY29sbGVjdGlvbi5wdXNoKGh0bWwpO1xyXG5cclxuICAgIHJldHVybiBodG1sO1xyXG4gIH1cclxuXHJcbiAgcmVtb3ZlKGh0bWw6IEh0bWxQcmltaXRpdmUpOiBib29sZWFuIHtcclxuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5fY29sbGVjdGlvbi5pbmRleE9mKGh0bWwpO1xyXG4gICAgaWYgKGluZGV4ID09PSAoLTEpKSB7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLl9jb2xsZWN0aW9uW2luZGV4XS5yZW1vdmUoKTtcclxuICAgIHRoaXMuX2NvbGxlY3Rpb24uc3BsaWNlKGluZGV4LCAxKTtcclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlKCkge1xyXG4gICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IHRoaXMuX2NvbGxlY3Rpb24ubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgdGhpcy5fY29sbGVjdGlvbltpXS51cGRhdGUoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJlbW92ZUFsbCgpIHtcclxuICAgIHdoaWxlICh0aGlzLl9jb2xsZWN0aW9uLmxlbmd0aCA+IDApIHtcclxuICAgICAgY29uc3QgaHRtbCA9IHRoaXMuX2NvbGxlY3Rpb24ucG9wKCk7XHJcbiAgICAgIGh0bWwucmVtb3ZlKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb250YWlucyhodG1sOiBIdG1sUHJpbWl0aXZlKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gZGVmaW5lZChodG1sKSAmJiBodG1sLmNvbGxlY3Rpb24gPT09IHRoaXM7XHJcbiAgfVxyXG5cclxuICBkZXN0cm95KCkge1xyXG4gICAgdGhpcy5yZW1vdmVBbGwoKTtcclxuICB9XHJcbn1cclxuIl19