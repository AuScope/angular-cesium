import { CallbackProperty } from 'cesium';
import { AcEntity } from '../../angular-cesium/models/ac-entity';
export class EditPolyline extends AcEntity {
    constructor(entityId, startPosition, endPosition, polylineProps) {
        super();
        this.editedEntityId = entityId;
        this.id = this.generateId();
        this.positions = [startPosition, endPosition];
        this._polylineProps = { ...polylineProps };
    }
    get props() {
        return this._polylineProps;
    }
    set props(value) {
        this._polylineProps = value;
    }
    getEditedEntityId() {
        return this.editedEntityId;
    }
    getPositions() {
        return this.positions.map(p => p.clone());
    }
    getPositionsCallbackProperty() {
        return new CallbackProperty(this.getPositions.bind(this), false);
    }
    validatePositions() {
        return this.positions[0] !== undefined && this.positions[1] !== undefined;
    }
    getStartPosition() {
        return this.positions[0];
    }
    getEndPosition() {
        return this.positions[1];
    }
    setStartPosition(position) {
        this.positions[0] = position;
    }
    setEndPosition(position) {
        this.positions[1] = position;
    }
    getId() {
        return this.id;
    }
    generateId() {
        return 'edit-polyline-' + EditPolyline.counter++;
    }
}
EditPolyline.counter = 0;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZWRpdC1wb2x5bGluZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3NyYy9saWIvYW5ndWxhci1jZXNpdW0td2lkZ2V0cy9tb2RlbHMvZWRpdC1wb2x5bGluZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsZ0JBQWdCLEVBQWMsTUFBTSxRQUFRLENBQUM7QUFDdEQsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLHVDQUF1QyxDQUFDO0FBR2pFLE1BQU0sT0FBTyxZQUFhLFNBQVEsUUFBUTtJQU94QyxZQUFZLFFBQWdCLEVBQUUsYUFBeUIsRUFBRSxXQUF1QixFQUFFLGFBQTZCO1FBQzdHLEtBQUssRUFBRSxDQUFDO1FBQ1IsSUFBSSxDQUFDLGNBQWMsR0FBRyxRQUFRLENBQUM7UUFDL0IsSUFBSSxDQUFDLEVBQUUsR0FBRyxJQUFJLENBQUMsVUFBVSxFQUFFLENBQUM7UUFDNUIsSUFBSSxDQUFDLFNBQVMsR0FBRyxDQUFDLGFBQWEsRUFBRSxXQUFXLENBQUMsQ0FBQztRQUM5QyxJQUFJLENBQUMsY0FBYyxHQUFHLEVBQUMsR0FBRyxhQUFhLEVBQUMsQ0FBQztJQUMzQyxDQUFDO0lBRUQsSUFBSSxLQUFLO1FBQ1AsT0FBTyxJQUFJLENBQUMsY0FBYyxDQUFDO0lBQzdCLENBQUM7SUFFRCxJQUFJLEtBQUssQ0FBQyxLQUFvQjtRQUM1QixJQUFJLENBQUMsY0FBYyxHQUFHLEtBQUssQ0FBQztJQUM5QixDQUFDO0lBRUQsaUJBQWlCO1FBQ2YsT0FBTyxJQUFJLENBQUMsY0FBYyxDQUFDO0lBQzdCLENBQUM7SUFFRCxZQUFZO1FBQ1YsT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDO0lBQzVDLENBQUM7SUFHRCw0QkFBNEI7UUFDMUIsT0FBTyxJQUFJLGdCQUFnQixDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLEtBQUssQ0FBQyxDQUFDO0lBQ25FLENBQUM7SUFFRCxpQkFBaUI7UUFDZixPQUFPLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLEtBQUssU0FBUyxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLEtBQUssU0FBUyxDQUFDO0lBQzVFLENBQUM7SUFFRCxnQkFBZ0I7UUFDZCxPQUFPLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDM0IsQ0FBQztJQUVELGNBQWM7UUFDWixPQUFPLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDM0IsQ0FBQztJQUVELGdCQUFnQixDQUFDLFFBQW9CO1FBQ25DLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLEdBQUcsUUFBUSxDQUFDO0lBQy9CLENBQUM7SUFFRCxjQUFjLENBQUMsUUFBb0I7UUFDakMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsR0FBRyxRQUFRLENBQUM7SUFDL0IsQ0FBQztJQUVELEtBQUs7UUFDSCxPQUFPLElBQUksQ0FBQyxFQUFFLENBQUM7SUFDakIsQ0FBQztJQUVPLFVBQVU7UUFDaEIsT0FBTyxnQkFBZ0IsR0FBRyxZQUFZLENBQUMsT0FBTyxFQUFFLENBQUM7SUFDbkQsQ0FBQzs7QUE3RE0sb0JBQU8sR0FBRyxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDYWxsYmFja1Byb3BlcnR5LCBDYXJ0ZXNpYW4zIH0gZnJvbSAnY2VzaXVtJztcclxuaW1wb3J0IHsgQWNFbnRpdHkgfSBmcm9tICcuLi8uLi9hbmd1bGFyLWNlc2l1bS9tb2RlbHMvYWMtZW50aXR5JztcclxuaW1wb3J0IHsgUG9seWxpbmVQcm9wcyB9IGZyb20gJy4vcG9seWxpbmUtZWRpdC1vcHRpb25zJztcclxuXHJcbmV4cG9ydCBjbGFzcyBFZGl0UG9seWxpbmUgZXh0ZW5kcyBBY0VudGl0eSB7XHJcbiAgc3RhdGljIGNvdW50ZXIgPSAwO1xyXG4gIHByaXZhdGUgZWRpdGVkRW50aXR5SWQ6IHN0cmluZztcclxuICBwcml2YXRlIGlkOiBzdHJpbmc7XHJcbiAgcHJpdmF0ZSBwb3NpdGlvbnM6IENhcnRlc2lhbjNbXTtcclxuICBwcml2YXRlIF9wb2x5bGluZVByb3BzOiBQb2x5bGluZVByb3BzO1xyXG5cclxuICBjb25zdHJ1Y3RvcihlbnRpdHlJZDogc3RyaW5nLCBzdGFydFBvc2l0aW9uOiBDYXJ0ZXNpYW4zLCBlbmRQb3NpdGlvbjogQ2FydGVzaWFuMywgcG9seWxpbmVQcm9wcz86IFBvbHlsaW5lUHJvcHMpIHtcclxuICAgIHN1cGVyKCk7XHJcbiAgICB0aGlzLmVkaXRlZEVudGl0eUlkID0gZW50aXR5SWQ7XHJcbiAgICB0aGlzLmlkID0gdGhpcy5nZW5lcmF0ZUlkKCk7XHJcbiAgICB0aGlzLnBvc2l0aW9ucyA9IFtzdGFydFBvc2l0aW9uLCBlbmRQb3NpdGlvbl07XHJcbiAgICB0aGlzLl9wb2x5bGluZVByb3BzID0gey4uLnBvbHlsaW5lUHJvcHN9O1xyXG4gIH1cclxuXHJcbiAgZ2V0IHByb3BzKCk6IFBvbHlsaW5lUHJvcHMge1xyXG4gICAgcmV0dXJuIHRoaXMuX3BvbHlsaW5lUHJvcHM7XHJcbiAgfVxyXG5cclxuICBzZXQgcHJvcHModmFsdWU6IFBvbHlsaW5lUHJvcHMpIHtcclxuICAgIHRoaXMuX3BvbHlsaW5lUHJvcHMgPSB2YWx1ZTtcclxuICB9XHJcblxyXG4gIGdldEVkaXRlZEVudGl0eUlkKCk6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gdGhpcy5lZGl0ZWRFbnRpdHlJZDtcclxuICB9XHJcblxyXG4gIGdldFBvc2l0aW9ucygpOiBhbnlbXSB7XHJcbiAgICByZXR1cm4gdGhpcy5wb3NpdGlvbnMubWFwKHAgPT4gcC5jbG9uZSgpKTtcclxuICB9XHJcblxyXG5cclxuICBnZXRQb3NpdGlvbnNDYWxsYmFja1Byb3BlcnR5KCk6IENhbGxiYWNrUHJvcGVydHkge1xyXG4gICAgcmV0dXJuIG5ldyBDYWxsYmFja1Byb3BlcnR5KHRoaXMuZ2V0UG9zaXRpb25zLmJpbmQodGhpcyksIGZhbHNlKTtcclxuICB9XHJcblxyXG4gIHZhbGlkYXRlUG9zaXRpb25zKCk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHRoaXMucG9zaXRpb25zWzBdICE9PSB1bmRlZmluZWQgJiYgdGhpcy5wb3NpdGlvbnNbMV0gIT09IHVuZGVmaW5lZDtcclxuICB9XHJcblxyXG4gIGdldFN0YXJ0UG9zaXRpb24oKSB7XHJcbiAgICByZXR1cm4gdGhpcy5wb3NpdGlvbnNbMF07XHJcbiAgfVxyXG5cclxuICBnZXRFbmRQb3NpdGlvbigpIHtcclxuICAgIHJldHVybiB0aGlzLnBvc2l0aW9uc1sxXTtcclxuICB9XHJcblxyXG4gIHNldFN0YXJ0UG9zaXRpb24ocG9zaXRpb246IENhcnRlc2lhbjMpIHtcclxuICAgIHRoaXMucG9zaXRpb25zWzBdID0gcG9zaXRpb247XHJcbiAgfVxyXG5cclxuICBzZXRFbmRQb3NpdGlvbihwb3NpdGlvbjogQ2FydGVzaWFuMykge1xyXG4gICAgdGhpcy5wb3NpdGlvbnNbMV0gPSBwb3NpdGlvbjtcclxuICB9XHJcblxyXG4gIGdldElkKCk6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gdGhpcy5pZDtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgZ2VuZXJhdGVJZCgpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuICdlZGl0LXBvbHlsaW5lLScgKyBFZGl0UG9seWxpbmUuY291bnRlcisrO1xyXG4gIH1cclxufVxyXG4iXX0=