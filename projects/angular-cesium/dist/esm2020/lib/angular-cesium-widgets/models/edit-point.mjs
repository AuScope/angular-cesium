import { CallbackProperty } from 'cesium';
import { AcEntity } from '../../angular-cesium/models/ac-entity';
export class EditPoint extends AcEntity {
    constructor(entityId, position, pointProps, virtualPoint = false) {
        super();
        this._show = true;
        this.editedEntityId = entityId;
        this.position = position;
        this.id = this.generateId();
        this.pointProps = { ...pointProps };
        this._virtualEditPoint = virtualPoint;
    }
    get show() {
        return this._show;
    }
    set show(value) {
        this._show = value;
    }
    get props() {
        return this.pointProps;
    }
    set props(value) {
        this.pointProps = value;
    }
    isVirtualEditPoint() {
        return this._virtualEditPoint;
    }
    setVirtualEditPoint(value) {
        this._virtualEditPoint = value;
    }
    getEditedEntityId() {
        return this.editedEntityId;
    }
    getPosition() {
        return this.position.clone();
    }
    getPositionCallbackProperty() {
        return new CallbackProperty(this.getPosition.bind(this), false);
    }
    setPosition(position) {
        this.position.x = position.x;
        this.position.y = position.y;
        this.position.z = position.z;
    }
    getId() {
        return this.id;
    }
    generateId() {
        return 'edit-point-' + EditPoint.counter++;
    }
}
EditPoint.counter = 0;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZWRpdC1wb2ludC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3NyYy9saWIvYW5ndWxhci1jZXNpdW0td2lkZ2V0cy9tb2RlbHMvZWRpdC1wb2ludC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsZ0JBQWdCLEVBQWMsTUFBTSxRQUFRLENBQUM7QUFDdEQsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLHVDQUF1QyxDQUFDO0FBSWpFLE1BQU0sT0FBTyxTQUFVLFNBQVEsUUFBUTtJQVNyQyxZQUFZLFFBQWdCLEVBQUUsUUFBb0IsRUFBRSxVQUF1QixFQUFFLFlBQVksR0FBRyxLQUFLO1FBQy9GLEtBQUssRUFBRSxDQUFDO1FBSEYsVUFBSyxHQUFHLElBQUksQ0FBQztRQUluQixJQUFJLENBQUMsY0FBYyxHQUFHLFFBQVEsQ0FBQztRQUMvQixJQUFJLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQztRQUN6QixJQUFJLENBQUMsRUFBRSxHQUFHLElBQUksQ0FBQyxVQUFVLEVBQUUsQ0FBQztRQUM1QixJQUFJLENBQUMsVUFBVSxHQUFHLEVBQUMsR0FBRyxVQUFVLEVBQUMsQ0FBQztRQUNsQyxJQUFJLENBQUMsaUJBQWlCLEdBQUcsWUFBWSxDQUFDO0lBQ3hDLENBQUM7SUFFRCxJQUFJLElBQUk7UUFDTixPQUFPLElBQUksQ0FBQyxLQUFLLENBQUM7SUFDcEIsQ0FBQztJQUVELElBQUksSUFBSSxDQUFDLEtBQUs7UUFDWixJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztJQUNyQixDQUFDO0lBRUQsSUFBSSxLQUFLO1FBQ1AsT0FBTyxJQUFJLENBQUMsVUFBVSxDQUFDO0lBQ3pCLENBQUM7SUFFRCxJQUFJLEtBQUssQ0FBQyxLQUFpQjtRQUN6QixJQUFJLENBQUMsVUFBVSxHQUFHLEtBQUssQ0FBQztJQUMxQixDQUFDO0lBRUQsa0JBQWtCO1FBQ2hCLE9BQU8sSUFBSSxDQUFDLGlCQUFpQixDQUFDO0lBQ2hDLENBQUM7SUFFRCxtQkFBbUIsQ0FBQyxLQUFjO1FBQ2hDLElBQUksQ0FBQyxpQkFBaUIsR0FBRyxLQUFLLENBQUM7SUFDakMsQ0FBQztJQUVELGlCQUFpQjtRQUNmLE9BQU8sSUFBSSxDQUFDLGNBQWMsQ0FBQztJQUM3QixDQUFDO0lBRUQsV0FBVztRQUNULE9BQU8sSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLEVBQUUsQ0FBQztJQUMvQixDQUFDO0lBRUQsMkJBQTJCO1FBQ3pCLE9BQU8sSUFBSSxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQztJQUNsRSxDQUFDO0lBR0QsV0FBVyxDQUFDLFFBQW9CO1FBQzlCLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxDQUFDLENBQUM7UUFDN0IsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUcsUUFBUSxDQUFDLENBQUMsQ0FBQztRQUM3QixJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsR0FBRyxRQUFRLENBQUMsQ0FBQyxDQUFDO0lBQy9CLENBQUM7SUFFRCxLQUFLO1FBQ0gsT0FBTyxJQUFJLENBQUMsRUFBRSxDQUFDO0lBQ2pCLENBQUM7SUFFTyxVQUFVO1FBQ2hCLE9BQU8sYUFBYSxHQUFHLFNBQVMsQ0FBQyxPQUFPLEVBQUUsQ0FBQztJQUM3QyxDQUFDOztBQWxFTSxpQkFBTyxHQUFHLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENhbGxiYWNrUHJvcGVydHksIENhcnRlc2lhbjMgfSBmcm9tICdjZXNpdW0nO1xyXG5pbXBvcnQgeyBBY0VudGl0eSB9IGZyb20gJy4uLy4uL2FuZ3VsYXItY2VzaXVtL21vZGVscy9hYy1lbnRpdHknO1xyXG4vL2ltcG9ydCB7IENhcnRlc2lhbjMgfSBmcm9tICcuLi8uLi9hbmd1bGFyLWNlc2l1bS9tb2RlbHMvY2FydGVzaWFuMyc7XHJcbmltcG9ydCB7IFBvaW50UHJvcHMgfSBmcm9tICcuL3BvaW50LWVkaXQtb3B0aW9ucyc7XHJcblxyXG5leHBvcnQgY2xhc3MgRWRpdFBvaW50IGV4dGVuZHMgQWNFbnRpdHkge1xyXG4gIHN0YXRpYyBjb3VudGVyID0gMDtcclxuICBwcml2YXRlIGlkOiBzdHJpbmc7XHJcbiAgcHJpdmF0ZSBlZGl0ZWRFbnRpdHlJZDogc3RyaW5nO1xyXG4gIHByaXZhdGUgcG9zaXRpb246IENhcnRlc2lhbjM7XHJcbiAgcHJpdmF0ZSBfdmlydHVhbEVkaXRQb2ludDogYm9vbGVhbjtcclxuICBwcml2YXRlIHBvaW50UHJvcHM6IFBvaW50UHJvcHM7XHJcbiAgcHJpdmF0ZSBfc2hvdyA9IHRydWU7XHJcblxyXG4gIGNvbnN0cnVjdG9yKGVudGl0eUlkOiBzdHJpbmcsIHBvc2l0aW9uOiBDYXJ0ZXNpYW4zLCBwb2ludFByb3BzPzogUG9pbnRQcm9wcywgdmlydHVhbFBvaW50ID0gZmFsc2UpIHtcclxuICAgIHN1cGVyKCk7XHJcbiAgICB0aGlzLmVkaXRlZEVudGl0eUlkID0gZW50aXR5SWQ7XHJcbiAgICB0aGlzLnBvc2l0aW9uID0gcG9zaXRpb247XHJcbiAgICB0aGlzLmlkID0gdGhpcy5nZW5lcmF0ZUlkKCk7XHJcbiAgICB0aGlzLnBvaW50UHJvcHMgPSB7Li4ucG9pbnRQcm9wc307XHJcbiAgICB0aGlzLl92aXJ0dWFsRWRpdFBvaW50ID0gdmlydHVhbFBvaW50O1xyXG4gIH1cclxuXHJcbiAgZ2V0IHNob3coKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fc2hvdztcclxuICB9XHJcblxyXG4gIHNldCBzaG93KHZhbHVlKSB7XHJcbiAgICB0aGlzLl9zaG93ID0gdmFsdWU7XHJcbiAgfVxyXG5cclxuICBnZXQgcHJvcHMoKTogUG9pbnRQcm9wcyB7XHJcbiAgICByZXR1cm4gdGhpcy5wb2ludFByb3BzO1xyXG4gIH1cclxuXHJcbiAgc2V0IHByb3BzKHZhbHVlOiBQb2ludFByb3BzKSB7XHJcbiAgICB0aGlzLnBvaW50UHJvcHMgPSB2YWx1ZTtcclxuICB9XHJcblxyXG4gIGlzVmlydHVhbEVkaXRQb2ludCgpOiBib29sZWFuIHtcclxuICAgIHJldHVybiB0aGlzLl92aXJ0dWFsRWRpdFBvaW50O1xyXG4gIH1cclxuXHJcbiAgc2V0VmlydHVhbEVkaXRQb2ludCh2YWx1ZTogYm9vbGVhbikge1xyXG4gICAgdGhpcy5fdmlydHVhbEVkaXRQb2ludCA9IHZhbHVlO1xyXG4gIH1cclxuXHJcbiAgZ2V0RWRpdGVkRW50aXR5SWQoKTogc3RyaW5nIHtcclxuICAgIHJldHVybiB0aGlzLmVkaXRlZEVudGl0eUlkO1xyXG4gIH1cclxuXHJcbiAgZ2V0UG9zaXRpb24oKTogQ2FydGVzaWFuMyB7XHJcbiAgICByZXR1cm4gdGhpcy5wb3NpdGlvbi5jbG9uZSgpO1xyXG4gIH1cclxuXHJcbiAgZ2V0UG9zaXRpb25DYWxsYmFja1Byb3BlcnR5KCk6IENhbGxiYWNrUHJvcGVydHkge1xyXG4gICAgcmV0dXJuIG5ldyBDYWxsYmFja1Byb3BlcnR5KHRoaXMuZ2V0UG9zaXRpb24uYmluZCh0aGlzKSwgZmFsc2UpO1xyXG4gIH1cclxuXHJcblxyXG4gIHNldFBvc2l0aW9uKHBvc2l0aW9uOiBDYXJ0ZXNpYW4zKSB7XHJcbiAgICB0aGlzLnBvc2l0aW9uLnggPSBwb3NpdGlvbi54O1xyXG4gICAgdGhpcy5wb3NpdGlvbi55ID0gcG9zaXRpb24ueTtcclxuICAgIHRoaXMucG9zaXRpb24ueiA9IHBvc2l0aW9uLno7XHJcbiAgfVxyXG5cclxuICBnZXRJZCgpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIHRoaXMuaWQ7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGdlbmVyYXRlSWQoKTogc3RyaW5nIHtcclxuICAgIHJldHVybiAnZWRpdC1wb2ludC0nICsgRWRpdFBvaW50LmNvdW50ZXIrKztcclxuICB9XHJcbn1cclxuIl19